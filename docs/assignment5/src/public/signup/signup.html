<div id="main-content" class="container">
    <h2>Sign Up for the newsletter</h2>
    <div ng-if="signUpCtrl.myinfo" class="signed-up-panel">
        <a ui-sref="public.myinfo">{{signUpCtrl.myinfo.firstName}} {{signUpCtrl.myinfo.lastName}}</a> signed up.<br>
        <button class="btn btn-default" ng-click="signUpCtrl.signOff()">Sign Off</button>
    </div>
    <form name="f" novalidate autocomplete="off" ng-if="!signUpCtrl.myinfo" class="form-horizontal">
        <div class="form-group">
            <label for="firstName" class="col-sm-2 control-label">First name</label>
            <div class="col-sm-10">
                <input id="firstName" type="text" name="firstName" ng-model="signUpCtrl.firstName" required ng-minlength="2"
                       ng-disabled="signUpCtrl.completed" class="form-control" placeholder="First name">
                <span ng-if="(f.firstName.$error.minlength || f.firstName.$error.required) && f.firstName.$touched"
                      class="invalid-input">
                    First name must be at least 2 characters long.
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="lastName" class="col-sm-2 control-label">Last name</label>
            <div class="col-sm-10">
                <input id="lastName" type="text" name="lastName" ng-model="signUpCtrl.lastName" required ng-minlength="2"
                       ng-disabled="signUpCtrl.completed" class="form-control" placeholder="Last name">
                <span ng-if="(f.lastName.$error.minlength|| f.lastName.$error.required) && f.lastName.$touched"
                      class="invalid-input">
                    Last name must be at least 2 characters long.
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="email" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
                <input id="email" type="email" name="email" ng-model="signUpCtrl.email" required
                       ng-disabled="signUpCtrl.completed" class="form-control"placeholder="Email">
                <span ng-if="f.email.$invalid && f.email.$touched"
                      class="invalid-input">
                    Must be a valid email address: handle@domain format.
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="phoneNumber" class="col-sm-2 control-label">Phone number</label>
            <div class="col-sm-10">
                <input id="phoneNumber" type="tel" name="phone" ng-model="signUpCtrl.phone" required pattern="(\d{3})-(\d{3})-(\d{4})" maxlength="12"
                       ng-disabled="signUpCtrl.completed" class="form-control" placeholder="Phone number in the format ###-###-####">
                <span ng-if="f.phone.$invalid && f.phone.$touched"
                      class="invalid-input">
                    Phone must be in the format ###-###-####.
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="favoriteDish" class="col-sm-2 control-label">Favorite dish</label>
            <div class="col-sm-10">
                <input id="favoriteDish" type="text" name="favoriteDish" ng-model="signUpCtrl.favoriteDish" required validate-short-name-dish
                       ng-disabled="signUpCtrl.completed" class="form-control" placeholder="Menu number of your favorite dish, e.g. L1 or SP2 or DK1 or ...">
                <span ng-if="f.favoriteDish.$invalid && f.favoriteDish.$touched"
                      class="invalid-input">
                    No such menu number exists.
                </span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" ng-disabled="f.$invalid || signUpCtrl.completed" ng-click="signUpCtrl.signUp()"
                        class="btn btn-default">Sign Up</button>
                <div ng-if="signUpCtrl.completed" class="sign-up-completed">Your information has been saved.</div>
            </div>
        </div>
    </form>

</div>
